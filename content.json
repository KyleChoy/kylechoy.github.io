{"meta":{"title":"菜头的博客","subtitle":"","description":"","author":"Kyle","url":"https://kylechoy.github.io"},"pages":[{"title":"分类","date":"2020-04-13T03:43:10.000Z","updated":"2020-04-13T03:43:10.000Z","comments":false,"path":"categories/index.html","permalink":"https://kylechoy.github.io/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-04-13T03:42:49.000Z","updated":"2020-04-13T03:42:49.000Z","comments":false,"path":"tags/index.html","permalink":"https://kylechoy.github.io/tags/index.html","excerpt":"","text":""},{"title":"关于我","date":"2020-04-13T03:42:35.000Z","updated":"2020-04-13T03:42:35.000Z","comments":true,"path":"about/index.html","permalink":"https://kylechoy.github.io/about/index.html","excerpt":"","text":"随便写写"}],"posts":[{"title":"在自己的服务器上部署Hexo","slug":"在自己的服务器上部署Hexo","date":"2022-03-06T10:51:10.000Z","updated":"2022-03-06T10:51:10.000Z","comments":true,"path":"在自己的服务器上部署Hexo.html","link":"","permalink":"https://kylechoy.github.io/%E5%9C%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2Hexo.html","excerpt":"此前写了一篇 Windows 下使用 Github 搭建免费个人博客 的文章，但是在国内使用 Github Pages 的体验实在是一般，而 Gitee Pages 的自动化部署又需要付费，因此参考网上资料，通过在自己的服务器上搭建 Git 服务并在 Virtualmin 的环境下开启 Web 服务。","text":"此前写了一篇 Windows 下使用 Github 搭建免费个人博客 的文章，但是在国内使用 Github Pages 的体验实在是一般，而 Gitee Pages 的自动化部署又需要付费，因此参考网上资料，通过在自己的服务器上搭建 Git 服务并在 Virtualmin 的环境下开启 Web 服务。 1. 服务器端操作1.1 Virtualmin 新建虚拟服务器打开 Virtualmin 后台 - Create Virtual Server，在 Domain name 中填入博客的网址，如 blog.kylechoy.top。 1.2. 配置 Git1.2.1 配置 SSH 密钥使用 SSH 登录服务器，并切换到虚拟服务器的用户。 123su blog# 如果新建虚拟服务器时没有自定义用户名，那么会选择网址的第一部分作为用户名。# 假设网址为 blog.kylechoy.top，则默认新建用户 blog。 配置 SSH 12345mkdir ~/.sshtouch ~/.ssh/authorized_keyschmod 600 ~/.ssh/authorzied_keys # 权限设置非常重要，不可忽略chmod 700 ~/.ssh # 权限设置非常重要，不可忽略vim ~/.ssh/authorzied_keys # 将SSH公钥粘贴进去 如何生成 SSH 公钥可查看 Windows 下使用 Github 搭建免费个人博客。 1.2.2 配置 Git 仓库123cd ~git init --bare blog.git # 在当前目录创建一个叫做 blog.git 的仓库，会新建一个 blog.git 文件夹vim blog.git/hooks/post-update # 使用 git-hooks 实现自动部署 post-update 内容如下，work-tree 为 Virtualmin 虚拟服务器存放网页的文件夹： 12#!/bin/bashgit --work-tree=/home/blog/public_html --git-dir=/home/blog/blog.git checkout -f 给 post-update 授权： 1chmod +x blog.git/hooks/post-update 2. 本地配置参考 Windows 下使用 Github 搭建免费个人博客 安装 Hexo。 安装 deploy-git： 1npm install hexo-deployer-git --save 打开 _config.yml 文件，找到 deploy 并将 repo 修改为 用户名@服务器网址:/git仓库路径，如： 1234deploy: type: &#x27;git&#x27; repo: blog@kylechoy.top:/home/blog/blog.git branch: master 如果需要部署到多个服务器，参考格式为： 123456deploy: type: &#x27;git&#x27; repo: server: blog@kylechoy.top:/home/blog/blog.git github: git@github.com:KyleChoy/kylechoy.github.io.git branch: master 部署到服务器： 123hexo clean # 清除缓存hexo g # 生成静态文件，g可替换为generatehexo d # 配置到服务器，d可替换为deploy 参考资料 将Hexo部署到自己的服务器上 Hexo部署至多个repo上，多域名指向","categories":[{"name":"网站","slug":"网站","permalink":"https://kylechoy.github.io/categories/%E7%BD%91%E7%AB%99/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://kylechoy.github.io/tags/Hexo/"},{"name":"Blog","slug":"Blog","permalink":"https://kylechoy.github.io/tags/Blog/"},{"name":"Git","slug":"Git","permalink":"https://kylechoy.github.io/tags/Git/"},{"name":"Server","slug":"Server","permalink":"https://kylechoy.github.io/tags/Server/"},{"name":"Virtualmin","slug":"Virtualmin","permalink":"https://kylechoy.github.io/tags/Virtualmin/"}],"keywords":[{"name":"网站","slug":"网站","permalink":"https://kylechoy.github.io/categories/%E7%BD%91%E7%AB%99/"}]},{"title":"Windows 下使用 Github 搭建免费个人博客","slug":"Windows-下使用-Github-搭建免费个人博客","date":"2020-04-13T14:25:03.000Z","updated":"2020-04-13T14:25:03.000Z","comments":true,"path":"Windows-下使用-Github-搭建免费个人博客.html","link":"","permalink":"https://kylechoy.github.io/Windows-%E4%B8%8B%E4%BD%BF%E7%94%A8-Github-%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.html","excerpt":"Hexo 简介Hexo是一款基于Node.js的快速、简洁且高效的博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在 GitHub 上，支持 Markdown。","text":"Hexo 简介Hexo是一款基于Node.js的快速、简洁且高效的博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在 GitHub 上，支持 Markdown。 一、安装相关软件1. Node.js若访问缓慢可以前往 淘宝 Node.js 镜像 下载 2. Git若遇到下载问题可以 从蓝奏云下载 3. Hexo新建一个文件夹作为博客的目录，在文件管理器空白处 右键 - Git Bash Here ，输入以下命令： 1npm install -g hexo-cli 安装完成后对 Hexo 进行初始化： 1hexo init Blog 这个 Blog 可以替换为任意名字，将会生成对应的文件夹。 12cd Blog #进入生成的目录npm install 新建完成后，指定文件夹的目录如下： 1234567├── _config.yml #网站配置信息├── package.json #应用程序的信息├── scaffolds #模版文件夹├── source #用户资源文件夹| ├── _drafts #草稿文章| └── _posts #已发布文章└── themes #主题 之后输入： 12hexo inithexo s #s是start的缩写，输入start也可以 此时用浏览器打开 http://localhost:4000，就可以看到你的网站啦！ 二、将 Hexo 部署到 GitHub Pages1. 创建个人仓库进入 Github.com ，登录后选择： New Repositorie（新建仓库） Repository name 填入 xxx.github.io 选择 Creat Respository注意：xxx可以换为其他字符，但是 .github.io 不能更改 2. 生成SSH密钥并添加到GitHub 返回 Git Bash，输入： 12git config --global user.name &quot;yourname&quot;git config --global user.email &quot;your@emial.com&quot; 输入自己在 Github 的用户名（区分大小写）和邮箱 创建 SSH 密钥： 1ssh-keygen -t rsa -C &quot;your@email.com&quot; 完成后会提示生成文件的位置，以文本的方式打开 id_rsa.pub ，复制里面所有内容。 把密钥添加到 Github：进入 Github -&gt; 点击头像-&gt; Settings -&gt; SSH and GPG keys点击 New SSH Key，把复制的内容全部粘贴进去 3. 将 Hexo 部署到GitHub 安装 deploy-git1npm install hexo-deployer-git --save 修改站点配置文件 打开网站根目录下 _config.yml ，修改最后的内容： 1234deploy: type: git repo: git@github.com:UserName/name.github.io.git branch: master 其中，repo 后的链接替换为：Github -&gt; 仓库页面 -&gt; Clone or Download -&gt; Use SSH -&gt; 文本框内容，如下图： 部署123hexo cleanhexo generatehexo deploy 其中 generate 和 deploy 可以用 g 和 d 代替 4. 查看网站稍等片刻后，浏览器进入xxx.github.io就可以看到自己的网站了。（xxx为之前自己创建时填入的名字） 参考资料：Hexo官方文档hexo史上最全搭建教程","categories":[{"name":"网站","slug":"网站","permalink":"https://kylechoy.github.io/categories/%E7%BD%91%E7%AB%99/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://kylechoy.github.io/tags/Hexo/"},{"name":"Github","slug":"Github","permalink":"https://kylechoy.github.io/tags/Github/"},{"name":"Blog","slug":"Blog","permalink":"https://kylechoy.github.io/tags/Blog/"}],"keywords":[{"name":"网站","slug":"网站","permalink":"https://kylechoy.github.io/categories/%E7%BD%91%E7%AB%99/"}]},{"title":"我的Hexo博客","slug":"我的Hexo博客","date":"2020-04-13T07:06:07.000Z","updated":"2020-04-13T07:06:07.000Z","comments":true,"path":"我的Hexo博客.html","link":"","permalink":"https://kylechoy.github.io/%E6%88%91%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2.html","excerpt":"Hello World这里是利用 Github Pages 生成的博客网站，由 Hexo 驱动，采用 Next 主题。 1print(&quot;Hello World!&quot;)","text":"Hello World这里是利用 Github Pages 生成的博客网站，由 Hexo 驱动，采用 Next 主题。 1print(&quot;Hello World!&quot;) More Info其实我还有一个基于 WordPress 搭建的博客网站，但是前段时间发现利用 Github Pages 也可以很方便的搭建博客网址，便试着搭建了这个网站。目前看来，除了管理不方便、国内访问速度慢之外，几乎没有问题。 Ps：GitHhub Pages 支持 MarkDown ，适合写“硬核”文章，而且还有 SSL 加密，最重要的是免费！确实香！ 🤩","categories":[{"name":"关于","slug":"关于","permalink":"https://kylechoy.github.io/categories/%E5%85%B3%E4%BA%8E/"}],"tags":[{"name":"META","slug":"META","permalink":"https://kylechoy.github.io/tags/META/"}],"keywords":[{"name":"关于","slug":"关于","permalink":"https://kylechoy.github.io/categories/%E5%85%B3%E4%BA%8E/"}]}]}